[33m7bc31fc[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32memails[m[33m)[m Merge branch 'dev' of https://github.com/devSixti/server into emails
[33m0c7fa88[m[33m ([m[1;31morigin/dev[m[33m)[m Merge pull request #9 from devSixti/types/users
[33m5f1d90e[m fix
[33ma81799d[m Fix: usar 'userId' en lugar de 'id' en el controlador deactivate para coincidir con los par√°metros de ruta en la carpeta user.controller, Fix: cambiar par√°metro de ruta de '/users/:id' a '/users/:userId' para alinear con el controlador en la carpeta admin.routes, feat: asignar rol 'driver' al usuario al aprobar conductor en la carpeta driver.service, refactor: usar uid autenticado para obtener informaci√≥n del conductor en la carpeta drivers.controller, refactor: usar driver_uid autenticado y mover vehicleId al body en assignVehicle en la carpeta vehicles.controller, refactor: extraer license y criminal_background como subesquemas en la carpeta driver.model, refactor: proteger rutas de veh√≠culos con isAuth y eliminar driverId de la URL en la carpeta vehicles.routes, refactor: buscar driver por user_id en lugar de driverId para alinearse con autenticaci√≥n en la carpeta driver.info.services
[33ma48c0d3[m Merge branch 'dev' of https://github.com/devSixti/server into testing-users
[33m5f70a2f[m Merge pull request #8 from devSixti/solving-bug
[33m6bb0ac6[m[33m ([m[1;32mtesting-users[m[33m)[m Se mejora verificaci√≥n de rol de administrador con equals() y agrega log de depuraci√≥n en la carpeta check.admin.middleware, Se corrige rutas de delete-requests eliminando prefijo redundante '/admin' de la carpeta admin.routes, Se agrega opci√≥n TLS para permitir certificados no verificados en el servicio de email temporalmente en la carpeta email.config, Se agrega compatibilidad con header 'Authorization: Bearer' en middleware de autenticaci√≥n en la carpeta is.authentificate.middleware, Se agrega log de error y comentario aclaratorio en extractPayload para facilitar debugging en la carpeta extrac.payload.utils, Se Ampl√≠a tipo de id en payload JWT para aceptar ObjectId de Mongoose en la carpeta generate.jwt.utils, Se Agrega driver_uid al tipado de Express.Request  en la carpeta index.d, Se Agrega logs de depuraci√≥n en el controlador de activaci√≥n de descuentos  en la carpeta discounts.controller, Refactoriza createOrUpdate para usar req.uid en lugar de userId por params  en la carpeta drivers.controller, refactor(UserController): usar req.uid y req.driver_uid en lugar de par√°metros URL para mayor seguridad y consistencia en la carpeta users.controller, fix(email): corregir URL de verificaci√≥n en el correo de actualizaci√≥n de email  en la carpeta verify.email.email, fix(driverSchema): actualizar referencia de usuario de Users a User en la carpeta driver.model, fix(userModel): cambiar nombre del modelo mongoose de Users a User  en la carpeta user.model, feat(driver-router): agregar middleware de autenticaci√≥n y simplificar rutas en la carpeta drivers.routes, refactor(user-router): separar rutas p√∫blicas y protegidas, agregar middleware de autenticaci√≥n global en la carpeta users.routes, A√±adidos logs de depuraci√≥n en activateNewDiscount para mostrar token recibido y payload decodificado en la carpeta activate.discount.service, feat: Agregar generaci√≥n de token JWT en la creaci√≥n de descuentos en la carpeta generate.discount.service, feat: soporte para rol admin en perfil de usuario y correcci√≥n en deleteAccount en la carpeta user.service.
[33m8eb8cc4[m Se mejora verificaci√≥n de rol de administrador con equals() y agrega log de depuraci√≥n en la carpeta check.admin.middleware, Se corrige rutas de delete-requests eliminando prefijo redundante '/admin' de la carpeta admin.routes, Se agrega opci√≥n TLS para permitir certificados no verificados en el servicio de email temporalmente en la carpeta email.config, Se agrega compatibilidad con header 'Authorization: Bearer' en middleware de autenticaci√≥n en la carpeta is.authentificate.middleware, Se agrega log de error y comentario aclaratorio en extractPayload para facilitar debugging en la carpeta extrac.payload.utils, Se Ampl√≠a tipo de id en payload JWT para aceptar ObjectId de Mongoose en la carpeta generate.jwt.utils, Se Agrega driver_uid al tipado de Express.Request  en la carpeta index.d, Se Agrega logs de depuraci√≥n en el controlador de activaci√≥n de descuentos  en la carpeta discounts.controller, Refactoriza createOrUpdate para usar req.uid en lugar de userId por params  en la carpeta drivers.controller, refactor(UserController): usar req.uid y req.driver_uid en lugar de par√°metros URL para mayor seguridad y consistencia en la carpeta users.controller, fix(email): corregir URL de verificaci√≥n en el correo de actualizaci√≥n de email  en la carpeta verify.email.email, fix(driverSchema): actualizar referencia de usuario de Users a User en la carpeta driver.model, fix(userModel): cambiar nombre del modelo mongoose de Users a User  en la carpeta user.model, feat(driver-router): agregar middleware de autenticaci√≥n y simplificar rutas en la carpeta drivers.routes, refactor(user-router): separar rutas p√∫blicas y protegidas, agregar middleware de autenticaci√≥n global en la carpeta users.routes, A√±adidos logs de depuraci√≥n en activateNewDiscount para mostrar token recibido y payload decodificado en la carpeta activate.discount.service, feat: Agregar generaci√≥n de token JWT en la creaci√≥n de descuentos en la carpeta generate.discount.service, feat: soporte para rol admin en perfil de usuario y correcci√≥n en deleteAccount en la carpeta user.service.
[33m9e5b366[m cambios en types de la carpeta users
[33mfeb3bbb[m Merge branch 'dev' into 'solving-bug' and resolve conflicts
[33m4294ce7[m Se probo el endpoint de driver arrived se organizo el controlador tripLifecycle para que extraiga el id del token, tipado estricto para negociaci√≥n de viajes, se hizo AuthenticatedRequest gen√©rica para mejor tipado, Se a√±adi√≥ justOne: true al virtual passenger para indicar que la relaci√≥n es uno a uno, mejorar validaciones y control de transici√≥n en TripLifecycleService, Se convirti√≥ el virtual  en una propiedad real del modelo, simplificaci√≥n y actualizaci√≥n de esquema de usuario
[33m14b3c61[m Se recolcio el error de los tokens y se dejaron en total tres endpoints 100% funcionales
[33mc47b47c[m organizar metodos delete
